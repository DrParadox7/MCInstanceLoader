![The mod logo.](https://github.com/HRudyPlayZ/MCInstanceLoader/blob/main/logo.png?raw=true)

![GitHub](https://img.shields.io/badge/GITHUB-Source%20code%20and%20wiki-lightgrey?link=https://github.com/HRudyPlayZ/MCInstanceLoader&style=for-the-badge&logo=github)
![Modrinth](https://img.shields.io/badge/MODRINTH-Download-green?link=https://modrinth.com/mod/mcinstance-loader/&style=for-the-badge&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDAiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8ZGVzYz5DcmVhdGVkIHdpdGggRmFicmljLmpzIDMuNS4wPC9kZXNjPgo8ZGVmcz4KPC9kZWZzPgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIi8%2BCjxnIHRyYW5zZm9ybT0ibWF0cml4KDEuNzY4NyAwIDAgMS43Njg3IDUwMC4wMTA0IDUwMC4wMTA0KSIgaWQ9IjYwNTg5MCI%2BCjxnIHN0eWxlPSIiIHZlY3Rvci1lZmZlY3Q9Im5vbi1zY2FsaW5nLXN0cm9rZSI%2BCgkJPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAwLjM0NDQgLTUwLjQyMTIpIj4KPHBhdGggc3R5bGU9InN0cm9rZTogbm9uZTsgc3Ryb2tlLXdpZHRoOiAxOyBzdHJva2UtZGFzaGFycmF5OiBub25lOyBzdHJva2UtbGluZWNhcDogYnV0dDsgc3Ryb2tlLWRhc2hvZmZzZXQ6IDA7IHN0cm9rZS1saW5lam9pbjogbWl0ZXI7IHN0cm9rZS1taXRlcmxpbWl0OiA0OyBpcy1jdXN0b20tZm9udDogbm9uZTsgZm9udC1maWxlLXVybDogbm9uZTsgZmlsbDogcmdiKDI1NSwyNTUsMjU1KTsgZmlsbC1ydWxlOiBldmVub2RkOyBvcGFjaXR5OiAxOyIgdHJhbnNmb3JtPSIgdHJhbnNsYXRlKC0yNTYuMzQ0NCwgLTIwNi41Nzg4KSIgZD0iTSA1MDMuMTYgMzIzLjU2IEMgNTE0LjU1IDI4MS40NyA1MTUuMzIgMjM1LjkxIDUwMy4yIDE5MC43NiBDIDQ2Ni41NyA1NC4yMjk5IDMyNi4wNCAtMjYuODAwMSAxODkuMzMgOS43Nzk5MSBDIDgzLjgxMDEgMzguMDE5OSAxMS4zODk5IDEyOC4wNyAwLjY4OTk0MSAyMzAuNDcgSCA0My45OSBDIDU0LjI5IDE0Ny4zMyAxMTMuNzQgNzQuNzI5OCAxOTkuNzUgNTEuNzA5OCBDIDMwNi4wNSAyMy4yNTk4IDQxNS4xMyA4MC42Njk5IDQ1My4xNyAxODEuMzggTCA0MTEuMDMgMTkyLjY1IEMgMzkxLjY0IDE0NS44IDM1Mi41NyAxMTEuNDUgMzA2LjMgOTYuODE5OCBMIDI5OC41NiAxNDAuNjYgQyAzMzUuMDkgMTU0LjEzIDM2NC43MiAxODQuNSAzNzUuNTYgMjI0LjkxIEMgMzkxLjM2IDI4My44IDM2MS45NCAzNDQuMTQgMzA4LjU2IDM2OS4xNyBMIDMyMC4wOSA0MTIuMTYgQyAzOTAuMjUgMzgzLjIxIDQzMi40IDMxMC4zIDQyMi40MyAyMzUuMTQgTCA0NjQuNDEgMjIzLjkxIEMgNDY4LjkxIDI1Mi42MiA0NjcuMzUgMjgxLjE2IDQ2MC41NSAzMDguMDcgTCA1MDMuMTYgMzIzLjU2IFoiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L2c%2BCgkJPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAtMTEuOTcgNDQuMDAwNCkiPgo8cGF0aCBzdHlsZT0ic3Ryb2tlOiBub25lOyBzdHJva2Utd2lkdGg6IDE7IHN0cm9rZS1kYXNoYXJyYXk6IG5vbmU7IHN0cm9rZS1saW5lY2FwOiBidXR0OyBzdHJva2UtZGFzaG9mZnNldDogMDsgc3Ryb2tlLWxpbmVqb2luOiBtaXRlcjsgc3Ryb2tlLW1pdGVybGltaXQ6IDQ7IGlzLWN1c3RvbS1mb250OiBub25lOyBmb250LWZpbGUtdXJsOiBub25lOyBmaWxsOiByZ2IoMjU1LDI1NSwyNTUpOyBmaWxsLXJ1bGU6IG5vbnplcm87IG9wYWNpdHk6IDE7IiB0cmFuc2Zvcm09IiB0cmFuc2xhdGUoLTI0NC4wMywgLTMwMS4wMDA0KSIgZD0iTSAzMjEuOTkgNTA0LjIyIEMgMTg1LjI3IDU0MC44IDQ0Ljc1MDEgNDU5Ljc3IDguMTEwMTEgMzIzLjI0IEMgMy44NDAxMSAzMDcuMzEgMS4xNyAyOTEuMzMgMCAyNzUuNDYgSCA0My4yNyBDIDQ0LjM2IDI4Ny4zNyA0Ni40Njk5IDI5OS4zNSA0OS42Nzk5IDMxMS4yOSBDIDUzLjAzOTkgMzIzLjggNTcuNDUgMzM1Ljc1IDYyLjc5IDM0Ny4wNyBMIDEwMS4zOCAzMjMuOTIgQyA5OC4xMjk5IDMxNi40MiA5NS4zOSAzMDguNiA5My4yMSAzMDAuNDcgQyA2OS4xNyAyMTAuODcgMTIyLjQxIDExOC43NyAyMTIuMTMgOTQuNzYwMSBDIDIyOS4xMyA5MC4yMTAxIDI0Ni4yMyA4OC40NDAxIDI2Mi45MyA4OS4xNTAxIEwgMjU1LjE5IDEzMyBDIDI0NC43MyAxMzMuMDUgMjM0LjExIDEzNC40MiAyMjMuNTMgMTM3LjI1IEMgMTU3LjMxIDE1NC45OCAxMTguMDEgMjIyLjk1IDEzNS43NSAyODkuMDkgQyAxMzYuODUgMjkzLjE2IDEzOC4xMyAyOTcuMTMgMTM5LjU5IDMwMC45OSBMIDE4OC45NCAyNzEuMzggTCAxNzQuMDcgMjMxLjk1IEwgMjIwLjY3IDE4NC4wOCBMIDI3OS41NyAxNzEuMzkgTCAyOTYuNjIgMTkyLjM4IEwgMjY5LjQ3IDIxOS44OCBMIDI0NS43OSAyMjcuMzMgTCAyMjguODcgMjQ0LjcyIEwgMjM3LjE2IDI2Ny43OSBDIDIzNy4xNiAyNjcuNzkgMjUzLjk1IDI4NS42MyAyNTMuOTggMjg1LjY0IEwgMjc3LjcgMjc5LjMzIEwgMjk0LjU4IDI2MC43OSBMIDMzMS40NCAyNDkuMTIgTCAzNDIuNDIgMjczLjgyIEwgMzA0LjM5IDMyMC40NSBMIDI0MC42NiAzNDAuNjMgTCAyMTIuMDggMzA4LjgxIEwgMTYyLjI2IDMzOC43IEMgMTg3LjggMzY3Ljc4IDIyNi4yIDM4My45MyAyNjYuMDEgMzgwLjU2IEwgMjc3LjU0IDQyMy41NSBDIDIxOC4xMyA0MzEuNDEgMTYwLjEgNDA2LjgyIDEyNC4wNSAzNjEuNjQgTCA4NS42Mzk5IDM4NC42OCBDIDEzNi4yNSA0NTEuMTcgMjIzLjg0IDQ4NC4xMSAzMDkuNjEgNDYxLjE2IEMgMzcxLjM1IDQ0NC42NCA0MTkuNCA0MDIuNTYgNDQ1LjQyIDM0OS4zOCBMIDQ4OC4wNiAzNjQuODggQyA0NTcuMTcgNDMxLjE2IDM5OC4yMiA0ODMuODIgMzIxLjk5IDUwNC4yMiBaIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9nPgo8L2c%2BCjwvZz4KPC9zdmc%2B)
![Curseforge](https://img.shields.io/badge/CURSEFORGE-Download-orange?link=https://www.curseforge.com/minecraft/mc-mods/mcinstance-loader/&style=for-the-badge&logo=curseforge)
![Discord](https://img.shields.io/badge/DISCORD-Join-blue?link=https://discord.gg/jXzrqPGcp3&style=for-the-badge&logo=discord&logoColor=white)


A small mod to allow Minecraft to directly install a modpack in the .mcinstance format, a simplified distribution format for modpacks. It lets people download files, bundle overrides and much more. The game asks for a reboot after installation and disables the mcinstance file to let the game restart properly.



## This is the 1.7.10 branch.
If you want to look at the source for other branches, check out the [main branch](https://github.com/HRudyPlayZ/MCInstanceLoader/) instead.
(others might come later on, feel free to help port the mod to any version you'd like. Forge, Fabric, 1.16, 1.3.2, anything, this mod is MIT-licensed after all.)


## So basically what is the .mcinstance format?
The `MCInstance` format (`.mcinstance`) consists of a repurposed ZIP file, with a specfic layout inside, and containing things like `.packconfig` files which are very similar to the INI format.
This mod aims to allow its installation inside the game so it can be used as a cross-platform modpack format. Support for it could also be added inside 3rd-party launchers to directly allow people to double click the file and install the pack.


## Features
Here are some features included in both this mod and the format:
- Bundle any file inside the overrides folder, just like other formats. Files there get copied to the minecraft root directory (usually `.minecraft`).

- A carryover folder for modpack players. That way players can put any file in it, and they will get merged as well, overwritting what the pack might have downloaded/bundled before.

- Download files from the internet (any URL) and save them anywhere in the minecraft folder.

- API support for both Modrinth and Curseforge (with multiple modes in place if something fails).

- Hash checks for downloaded files (`SHA-512`, `SHA-256`, `SHA-1`, `MD5` or `CRC32` for now)

- A cache system for hashed files (if the file is downloaded from an API, it tries to grab the hashes from the API too), to not have to redownload everything after an update.

- StopModReposts checks, to discourage the use of repost websites. This can be toggled off if needed.

- Sided files, so you can only download certain files on server or on the client. Useful for GUI mods and what not.

- A very flexible optional files system, with a menu in place, grouping support, multiple menus and multi-choice GUIs with a configurable amount of togglable items. (Client side for now, will have an implementation for servers later on)

- A complete log system in place so you can easily check issues specific to this mod. Combined with a verbose option for Forge logs.

- A togglable update checker, to keep this mod up-to-date.

- Forge progressbar integration, displays a new progress bar in the loading screen, so people can see how many mods are left to be downloaded.

- A customisable Info GUI that replaces the main menu, to notify the user of errors or successs. This is to make sure that people restart the game and correctly load mods that might've been added. Supports an auto-quit timer, a custom success message or any mod that changes the menu (a list of classes can be set)

- Automatic `pack.mcinstance` disabling after success, with the possibility to delete the file, or disable that feature instead. This is necessary to let people play the game after a succesful install.


## So how do i use it?
Check out the [wiki](https://github.com/HRudyPlayZ/MCInstanceLoader/wiki) pages to learn more about this mod and the mcinstance format.


## Credits & licensing
Licensing: 

Even though this mod is distributed under [MIT](https://github.com/HRudyPlayZ/MCInstanceLoader/blob/main/LICENSE), this license doesn't apply to any file in the `net.lingala.zip4j` package, as this is the source code for the [zip4j](https://github.com/srikanth-lingala/zip4j) library, and only distributed here for ease of use. The zip4j library is licensed under the [Apache License 2.0](https://github.com/srikanth-lingala/zip4j/blob/master/LICENSE) and the version bundled here is the 2.9.1 release.

Credits:
- Srikanth-lingala for creating the [zip4j](https://github.com/srikanth-lingala/zip4j) library, which this mod uses.
- AstroTibs for making [OptionsEnforcer](https://gitgud.io/AstroTibs/options-enforcer/) which i got inspired by.
- Janrupf and HansWasser for creating [ModDirector](https://github.com/Janrupf/mod-director) which inspired this mod too.
